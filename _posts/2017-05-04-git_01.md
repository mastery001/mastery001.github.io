---
layout: post
title: Git系列--初识
tags: git
categories: git
---

《Git系列》文章是博主阅读git官方book提取整理出的内容，意在深入理解git的工作机制、原理
<!--more-->

# 闲聊
博主在读大学初期未曾接触过版本控制系统，在这里分享一下博主最初的手工版本控制

1. 写新功能的代码先保存一份当前工程代码的副本project_01
2. 在当前工程代码的基础上进行开发，开发完毕后突然发现尚可有更好的实现方式，但又想保存此次实现（以便参考），于是保存项目副本project_02
3. 完成第二步后，将project_01重新导入编辑器，重新开发

见下图：

```
                   (开发)
	project_01 ----> project_02
	          \
	           \ (重新导入project_01开发)
	             ----> project03
```

上述手工版本控制的缺点：

1. 不便于比较，需要手动定位至文件目录下
2. 开发项目麻烦，导入和删除步骤繁琐

# 版本控制
> 版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。

## 本地版本控制系统
最初版本控制系统也是和博主的方式一样进行手工操作，后来为了解决手工的问题，人们用数据库来记录文件历次更新的差异。如下图（代表的有RCS）

![](/images/git/local_vcs.png)

## 集中化的版本控制系统
本地版本控制系统对于个人用户来说是绰绰有余的，但对于企业用户来说却并不适应，于是乎就出现了`CVS`、`Subversion`以及`Perforce`等集中化的版本控制系统（Centralized Version Control Systems，简称 CVCS）,

![](/images/git/cvcs.png)

## 分布式版本控制系统
集中化的版本控制系统存在一个致命的缺陷--单点故障，分布式版本控制系统（Distributed Version Control System，简称 DVCS）的代表有：`Git`、`Mercurial`、`Bazaar` 以及 `Darcs` 等

![](/images/git/dvcs.png)

## 差异性

| 版本控制系统 | 优点 | 缺点 |
| ---------- | ---- | ---- |
| 本地版本控制系统 | 持久化，防丢失 | 不利于团队协作
| 集中化的版本控制系统 | 团队协作，权限分明 | 中央服务器的单点问题
| 分布式版本控制系统 | 分布式，持久化，团队协作，clone即备份 | 项目大的情况下提取慢

# git
git是分布式版本控制系统的一种，其特点在于：

1. 大部分版本控制系统以保存文件变更列表来存储信息，而git则是采用将变更的整个文件进行保存快照方式存储
2. git是本地可以完成所有操作，直至版本上线时才需要将提交push至远程
3. 为了保证完整性，git会在文件存储前计算校验和，之后通过校验和引用

## 文件状态
一个git的版本控制中文件存在四种状态：

1. Untracked(未追踪文件)：尚未添加至版本控制中的文件
2. staged(已暂存)：添加至暂存区的文件(git add )
3. modified(已修改)：在现有版本上进行修改的文件
4. committed(已提交)：提交至本地数据库中的文件（git commit）

## 工作区域
git存在三个工作区域的概念：

1. git仓库：用来保存项目的元数据和对象数据库的地方，是整个git数据库的集合
2. 工作目录：对项目的某个版本提取出来的内容，即工作分支
3. 暂存区：也称为索引，保存了下次将要提交的信息

## 工作流程
一个完整的git工作流程如下：

1. 建立或克隆一个git仓库，并将其或者在其基础上创建工作目录
2. 在工作目录中添加或修改文件
3. 将文件的修改添加至暂存区中
4. 提交更新，将git暂存区中的文件commit至git仓库中
5. push至远程

